<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/cliente.css">
  <title>Cadastro de Clientes</title>
</head>
<body>

  
  <button onclick="window.location.href='index.html'" class="btn btn-voltar">â¬… Voltar ao InÃ­cio</button>

  <h1>Cadastro de Clientes</h1>

  <button onclick="window.location.href='listagem.html'" class="btn btn-listagem">ðŸ“„ Ver Listagem</button>

  <form id="formCliente" class="form-control" enctype="multipart/form-data">
    <input type="text" id="cnpj" name="cnpj" placeholder="Digite o CNPJ..." required>
    <input type="text" id="cep" name="cep" placeholder="Digite o CEP..." required>
    <input type="text" id="nome_fantasia" name="nome_fantasia" placeholder="Digite o nome fantasia..." required>
    <input type="text" id="razao_social" name="razao_social" placeholder="Digite a razÃ£o social..." required>
    <input type="text" id="logradouro" name="logradouro" placeholder="Digite o logradouro..." required>
    <input type="text" id="numero" name="numero" placeholder="Digite o nÃºmero..." required>
    <input type="text" id="bairro" name="bairro" placeholder="Digite o bairro..." required>
    <input type="text" id="cidade" name="cidade" placeholder="Digite a cidade..." required>
    <input type="text" id="uf" name="uf" placeholder="Digite o Estado..." maxlength="2" required>

    <input type="text" id="nome" placeholder="Nome" required>
    <input type="email" id="email" placeholder="E-mail" required>
    <input type="tel" id="telefone" placeholder="Telefone" required>

    <button type="submit" class="btn">Cadastrar</button>
  </form>

  <script>
    const form = document.getElementById("formCliente");

    let clientes = JSON.parse(localStorage.getItem("clientes")) || [];
    let proximoCodigo = clientes.length ? clientes[clientes.length - 1].codigo + 1 : 1;

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const cnpj = document.getElementById("cnpj").value;
      const nome = document.getElementById("nome").value;
      const email = document.getElementById("email").value;
      const telefone = document.getElementById("telefone").value;
      const agora = new Date().toLocaleString();

      const cliente = {
        codigo: proximoCodigo++,
        cnpj,
        nome,
        email,
        telefone,
        dataCriacao: agora,
        dataAtualizacao: agora
      };

      clientes.push(cliente);
      localStorage.setItem("clientes", JSON.stringify(clientes));
      alert("Cliente cadastrado com sucesso!");
      form.reset();
    });
  </script>

  <script src="js/cliente.js"></script>
</body>
</html>
